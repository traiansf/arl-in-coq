% This is the inner theme file of the RV theme.
% Based on the inner theme file for the Feather theme.
% Copyright (c) 2014 by Lilyana Vaskova Vankova <lilqna.v@gmail.com>
%
% This program is free software: you can redistribute it and/or modify
% it under the terms of the GNU General Public License as published by
% the Free Software Foundation, either version 3 of the License, or
% (at your option) any later version.
%
% This program is distributed in the hope that it will be useful,
% but WITHOUT ANY WARRANTY; without even the implied warranty of
% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
% GNU General Public License for more details.
%
% You can find the GNU General Public License at <http://www.gnu.org/licenses/>.

%----------------------------------------------------------------------------------------------------------------------------------

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{beamerinnerthemeRV}[2014/04/08 v1.0.0 The RV Beamer Theme]

\newcommand{\sectionBackground}[1]{%
        \begin{tikzpicture}[overlay, remember picture]%
                  \node [anchor=center] at (current page.center) {\includegraphics[height=1.75\paperheight]{RVgraphics/section-page}};%
                 \node [anchor=north west] at (current page.north west) {\includegraphics[width=.15\paperwidth]{RVgraphics/rv-logo}};%
                  \node [anchor=center] at (current page.center) {
                \begin{minipage}{.8\textheight}
                  #1
                \end{minipage}
                  };
        \end{tikzpicture}
% 
%        \begin{tikzpicture}[overlay, remember picture]%
%                  \node [anchor=center] at (current page.center) {\includegraphics[height=1.75\paperheight]{RVgraphics/section-page}};%
%                 \node [anchor=north west] at (current page.north west) {\includegraphics[width=7em]{RVgraphics/rv-logo}};%
%        \end{tikzpicture}%
}

%----------------------------------------------------------------------------------------------------------------------------------

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Theme options, definitions and templates.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------------------------------------------------

% beamer specific options

               \mode<presentation> %refers to the first four modes (beamer,handout,second and trans). That is, to all modes except the article mode
{

%----------------------------------------------------------------------------------------------------------------------------------

% title page
%% definitions for fonts of the different elements

               \setbeamerfont{institute}{family=\rmfamily, size =  \footnotesize}
               \setbeamerfont{title}{family=\sffamily,series=\bfseries,size =\LARGE}
               \setbeamerfont{subtitle}{family=\sffamily,series=\bfseries,size = \large}
               \setbeamerfont{author}{family=\sffamily,series=\bfseries, size = \large}
               \setbeamerfont{date}{family=\sffamily,series=\bfseries, size = \large}
               \setbeamerfont{frametitle}{family=\sffamily,series=\bfseries,size = \Large}


%----------------------------------------------------------------------------------------------------------------------------------

% add the RV to the background of the titlepage and the final page

               \setbeamertemplate{title page}
   {
           \sectionBackground{
                % {\usebeamerfont{institute}\insertinstitute}\vspace*{30pt}

                 {\usebeamerfont{title}\usebeamercolor[fg]{frametitle}\inserttitle}

                 {\usebeamerfont{subtitle}\usebeamercolor[fg]{frametitle}\insertsubtitle}

                 {\usebeamerfont{author}\usebeamercolor[fg]{frametitle}\insertauthor}

                 {\usebeamerfont{date}\usebeamercolor[fg]{frametitle}\insertdate}
           }
   }


\AtBeginSection[]{
\begin{frame}[plain,noframenumbering] % the plain option removes the header from the title page, noframenumbering removes the numbering of this frame only
           \sectionBackground{
                   \usebeamerfont{frametitle}\usebeamercolor[fg]{frametitle}\secname
                   }
\end{frame}
}
% use numbers instead of a picture for the references
                  \setbeamertemplate{bibliography item}[text]

}

\mode<all>